<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Task 2</title>
	<style>
		body {
			font-family: sans-serif;
		}
	</style>
</head>
<body>
	<h1>Login to the website</h1>
	<label for="firstName"></label>
	<input type="text" id="firstName" placeholder="Firstname">
	<label for="email"></label>
	<input type="text" id="email" placeholder="Email">
	<button onclick="setCookies()">Log me in</button>
	<h2>Cookies</h2>
	<button onclick="showCookies()">Show the cookies</button>
</body>
<script>
	// Wrapped in $(function()) to prevent early execution.
		function setCookies() {
			var firstname = document.getElementById('firstName').value;
			var email = document.getElementById('email').value;

			var date = new Date();
			date.setTime(date.getTime() + (10 * 24 * 60 * 60 * 1000)); // 10 days in milliseconds
			var expires = ";expires=" + date.toUTCString();

			document.cookie = "firstname=" + firstname + ";path=/" + expires;
			document.cookie = "email=" + email + ";path=/" + expires;
		}

		function showCookies() {
			var email = getCookie('email');
			var firstname = getCookie('firstname')

			var p = document.createElement('p');

			p.innerHTML = "Email:" + email + " - Firstname: " + firstname;
			document.body.appendChild(p)
		}

		function getCookie(name) {
			var cookies = document.cookie.split(';');
			for(var i = 0; i < cookies.length; i++) {
				var cookie = cookies[i].trim();
				if (cookie.startsWith(name + '=')) {
					// if current cookie start with name followed by =, return the value of the cookie (substring after name)
					return cookie.substring(name.length + 1);
				}
			}
			return '';
		}

</script>
</html>
