<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Shopping Cart</title>
</head>
<body>
	<script>
		// check for local storage
		if (typeof(Storage) === "undefined") {
			alert("Sorry, your browser does not support Web storage. Try again with a better one")
		} else {
			var availableItems = ["Shampoo", "Soap", "Sponge", "Water"];

			createStore();
			displayCart();
		}

		function addItemToCart(item) {
			localStorage.setItem(item, true);

			displayCart();
		}

		function createStore() {
			var ul = document.createElement("ul");

			availableItems.forEach(function(item) {
				var li = document.createElement("li");
				li.textContent = item;
				li.addEventListener("click", function() {
					addItemToCart(item);
				});

				ul.appendChild(li);
			})

			document.body.appendChild(ul);
		}

		function displayCart() {
			var itemCount = localStorage.length;

			if (itemCount > 0) {
				var cartMessage = document.createElement("p");
				cartMessage.textContent = `You previously had ${itemCount} item(s) in your cart`;

				document.body.appendChild(cartMessage)
			}
		}
	</script>
</body>
</html>
